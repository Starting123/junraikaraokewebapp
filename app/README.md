# Junrai Karaoke Booking System

à¸£à¸°à¸šà¸šà¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸„à¸²à¸£à¸²à¹‚à¸­à¹€à¸à¸°à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¹‰à¸­à¸‡à¸„à¸²à¸£à¸²à¹‚à¸­à¹€à¸à¸°à¸ˆà¸±à¸™à¹„à¸£

## ğŸ¯ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

- ğŸ  **à¸«à¸™à¹‰à¸²à¹à¸£à¸**: à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¹‰à¸­à¸‡à¸„à¸²à¸£à¸²à¹‚à¸­à¹€à¸à¸°à¹à¸¥à¸°à¸šà¸£à¸´à¸à¸²à¸£
- ğŸ¤ **à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡**: à¸£à¸°à¸šà¸šà¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡à¸„à¸²à¸£à¸²à¹‚à¸­à¹€à¸à¸°à¹à¸šà¸š real-time
- ğŸ’³ **à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™**: à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¸œà¹ˆà¸²à¸™ Stripe
- ğŸ§¾ **à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ**: à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ PDF à¸”à¹‰à¸§à¸¢à¸Ÿà¸­à¸™à¸•à¹Œà¹„à¸—à¸¢
- ğŸ‘¤ **à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰**: à¸£à¸°à¸šà¸šà¸ªà¸¡à¸²à¸Šà¸´à¸à¹à¸¥à¸°à¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- ğŸ“Š **Admin Dashboard**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸­à¸‡ à¸à¸²à¸£à¸ˆà¸­à¸‡ à¹à¸¥à¸°à¸£à¸²à¸¢à¸‡à¸²à¸™
- ğŸ“± **Responsive Design**: à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### Backend
- **Node.js** v16+
- **Express.js** v4.16.1
- **MySQL** v8.0+
- **JWT** à¸ªà¸³à¸«à¸£à¸±à¸š authentication

### Frontend
- **EJS** Template Engine
- **Vanilla JavaScript**
- **CSS3** with responsive design
- **Font Awesome** icons

### Payment & PDF
- **Stripe** Payment Gateway
- **PDFKit** à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡ PDF
- **THSarabun** à¸Ÿà¸­à¸™à¸•à¹Œà¹„à¸—à¸¢à¸ªà¸³à¸«à¸£à¸±à¸š PDF

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
app/
â”œâ”€â”€ src/                          # Main application source
â”‚   â”œâ”€â”€ controllers/              # Route controllers
â”‚   â”œâ”€â”€ middleware/               # Auth & security middleware  
â”‚   â”œâ”€â”€ models/                   # Database models
â”‚   â”œâ”€â”€ routes/                   # API routes
â”‚   â”œâ”€â”€ services/                 # Business logic services
â”‚   â”œâ”€â”€ config/                   # Configuration files
â”‚   â””â”€â”€ utils/                    # Utility functions
â”œâ”€â”€ views/                        # EJS templates
â”œâ”€â”€ public/                       # Static files (CSS, JS, images)
â”œâ”€â”€ assets/                       # Font files
â”œâ”€â”€ docs/                         # Documentation
â””â”€â”€ logs/                         # Application logs
```

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### 1. Clone à¹‚à¸›à¸£à¹€à¸ˆà¸„
```bash
git clone [repository-url]
cd junraikaraokewebapp/app
```

### 2. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies
```bash
npm install
```

### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables
```bash
cp .env.example .env
```

à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `.env`:
```env
# Database
DB_HOST=localhost
DB_USER=your_username
DB_PASSWORD=your_password
DB_NAME=junraikaraoke

# JWT
JWT_SECRET=your_jwt_secret_key

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...

# Email (à¸ªà¸³à¸«à¸£à¸±à¸š reset password)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password
```

### 4. à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
```bash
# Import database schema
mysql -u username -p junraikaraoke < junraikaraokedatabase.sql
```

### 5. à¸£à¸±à¸™à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™
```bash
# Development mode
npm run dev

# Production mode
npm start
```

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ `http://localhost:3000`

## ğŸ“‹ API Endpoints

### Authentication
- `POST /api/auth/register` - à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
- `POST /api/auth/login` - à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- `POST /api/auth/forgot-password` - à¸¥à¸·à¸¡à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- `POST /api/auth/reset-password` - à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™

### Bookings
- `GET /api/bookings` - à¸”à¸¹à¸à¸²à¸£à¸ˆà¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- `POST /api/bookings` - à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸£à¸ˆà¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ
- `GET /api/bookings/:id` - à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸à¸²à¸£à¸ˆà¸­à¸‡
- `PUT /api/bookings/:id` - à¹à¸à¹‰à¹„à¸‚à¸à¸²à¸£à¸ˆà¸­à¸‡
- `DELETE /api/bookings/:id` - à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡

### Payments
- `POST /api/payments/create-payment-intent` - à¸ªà¸£à¹‰à¸²à¸‡ Payment Intent
- `POST /api/payments/confirm-payment` - à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™
- `GET /api/payments/my-payments` - à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™

### Receipts
- `GET /api/receipts/download/:filename` - à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ
- `GET /api/receipts/view/:receiptNumber` - à¸”à¸¹à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ

## ğŸ‘¥ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **Customer**: à¸ˆà¸­à¸‡à¸«à¹‰à¸­à¸‡, à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™, à¸”à¸¹à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ
- **Admin**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸­à¸‡, à¸”à¸¹à¸à¸²à¸£à¸ˆà¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”, à¸£à¸²à¸¢à¸‡à¸²à¸™

### à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ Admin
```sql
UPDATE users SET role = 'admin' WHERE email = 'admin@example.com';
```

## ğŸ”§ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### Script Commands
```bash
npm start          # à¸£à¸±à¸™ production server
npm run dev        # à¸£à¸±à¸™ development server à¸à¸±à¸š nodemon
npm test           # à¸£à¸±à¸™ tests (à¸–à¹‰à¸²à¸¡à¸µ)
```

### à¸à¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ
1. à¸ªà¸£à¹‰à¸²à¸‡ Controller à¹ƒà¸™ `src/controllers/`
2. à¸ªà¸£à¹‰à¸²à¸‡ Service à¹ƒà¸™ `src/services/`
3. à¸ªà¸£à¹‰à¸²à¸‡ Route à¹ƒà¸™ `src/routes/`
4. à¹€à¸à¸´à¹ˆà¸¡ View à¹ƒà¸™ `views/` (à¸–à¹‰à¸²à¸ˆà¸³à¹€à¸›à¹‡à¸™)

## ğŸ“ Log Files

à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡ log files à¹ƒà¸™ `logs/`:
- `combined.log` - à¸šà¸±à¸™à¸—à¸¶à¸à¸—à¸±à¹ˆà¸§à¹„à¸›
- `error.log` - à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”
- `exceptions.log` - à¸šà¸±à¸™à¸—à¸¶à¸ exceptions

## ğŸ”’ à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

- à¹ƒà¸Šà¹‰ HTTPS à¹ƒà¸™ production
- JWT tokens à¸¡à¸µ expiration time
- Password hashing à¸”à¹‰à¸§à¸¢ bcrypt
- Input validation à¹à¸¥à¸° sanitization
- Rate limiting à¸ªà¸³à¸«à¸£à¸±à¸š API calls

## ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸›à¸±à¸à¸«à¸²:
- à¸”à¸¹à¹€à¸­à¸à¸ªà¸²à¸£à¹ƒà¸™ `docs/` folder
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š logs à¹ƒà¸™à¸à¸£à¸“à¸µà¸¡à¸µà¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”
- à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¸à¸±à¸’à¸™à¸²à¸˜à¸¸à¸£à¸à¸´à¸ˆ