<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แดชบอร์ด - Junrai Karaoke</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <a href="/" class="navbar-brand">
                    <i class="fas fa-microphone-alt"></i>
                    Junrai Karaoke
                </a>
                
                <div class="navbar-main">
                    <ul class="navbar-nav">
                        <li><a href="/" class="nav-link">หน้าหลัก</a></li>
                        <li><a href="/rooms" class="nav-link">ห้องคาราโอเกะ</a></li>
                        <li><a href="/bookings" class="nav-link" id="bookingsLink">การจอง</a></li>
                        <li><a href="/receipts" class="nav-link" id="receiptsLink">ใบเสร็จ</a></li>
                        <li><a href="/contact" class="nav-link">ติดต่อเรา</a></li>
                        <li><a href="/auth" class="nav-link" id="authLink">เข้าสู่ระบบ</a></li>
                        <li><button class="btn btn-outline" onclick="logout()" id="logoutBtn" style="display: none;">ออกจากระบบ</button></li>
                    </ul>
                    
                    <!-- Store Hours Info -->
                    <div class="store-hours-info" id="storeHoursInfo">
                        <div class="hours-display">
                            <i class="fas fa-clock"></i>
                            <div class="hours-text">
                                <span class="hours-time">11.00 - 21.00</span>
                                <span class="hours-duration">10 ชม</span>
                            </div>
                        </div>
                        <div class="days-display">
                            <span class="open-days">เปิด: อังคาร - อาทิตย์</span>
                            <span class="closed-day">(หยุด) จันทร์</span>
                        </div>
                        <div class="store-status" id="storeStatus">
                            <span class="status-text" id="statusText">กำลังตรวจสอบ...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="dashboard-header">
        <div class="container">
            <div class="header-content">
                <h1>
                    <i class="fas fa-tachometer-alt"></i>
                    ยินดีต้อนรับสู่แดชบอร์ด
                </h1>
                <p id="welcomeMessage">สวัสดี! ยินดีต้อนรับกลับมา</p>
            </div>
        </div>
    </section>

    <!-- Dashboard Content -->
    <section class="dashboard-content">
        <div class="container">
            <!-- Quick Actions -->
            <div class="section-header">
                <h2>เมนูด่วน</h2>
                <p>เลือกการดำเนินการที่ต้องการ</p>
            </div>
            
            <div class="quick-actions">
                <a href="/rooms" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-door-open"></i>
                    </div>
                    <h3>ดูห้องคาราโอเกะ</h3>
                    <p>เลือกดูห้องที่ว่างและรายละเอียด</p>
                </a>
                
                <a href="/bookings" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <h3>จองห้องใหม่</h3>
                    <p>ทำการจองห้องคาราโอเกะ</p>
                </a>
                
                <button class="action-card" onclick="loadUserBookings()">
                    <div class="action-icon">
                        <i class="fas fa-list-alt"></i>
                    </div>
                    <h3>การจองของฉัน</h3>
                    <p>ดูและจัดการการจองทั้งหมด</p>
                </button>
                
                <a href="/contact" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>ติดต่อเรา</h3>
                    <p>สอบถามข้อมูลหรือแจ้งปัญหา</p>
                </a>
            </div>

            <!-- User Bookings Section -->
            <div class="bookings-section" id="bookingsSection" style="display: none;">
                <div class="section-header">
                    <h2>การจองของฉัน</h2>
                    <p>รายการการจองทั้งหมดของคุณ</p>
                </div>
                
                <div class="bookings-container" id="bookingsContainer">
                    <div class="loading" id="bookingsLoading">
                        <div class="spinner"></div>
                        <p>กำลังโหลดข้อมูลการจอง...</p>
                    </div>
                </div>
            </div>

            <!-- Statistics Section -->
            <div class="stats-section">
                <div class="section-header">
                    <h2>สถิติการใช้งาน</h2>
                    <p>ข้อมูลการใช้งานของคุณ</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalBookings">-</h3>
                            <p>การจองทั้งหมด</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalHours">-</h3>
                            <p>ชั่วโมงที่ใช้งาน</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="favoriteRoom">-</h3>
                            <p>ห้องที่ชื่นชอบ</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="thisMonth">-</h3>
                            <p>ครั้งในเดือนนี้</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript -->
    <script src="/css/dashboard.js"></script>
</body>
</html>